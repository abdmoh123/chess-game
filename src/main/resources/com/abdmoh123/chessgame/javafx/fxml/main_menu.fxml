<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<?import com.abdmoh123.chessgame.javafx.components.* ?>

<BorderPane fx:id="main_window" fx:controller="com.abdmoh123.chessgame.javafx.controllers.MainController"  xmlns:fx="http://javafx.com/fxml">

    <left>
        <VBox id="left-container">
            <Button text="Start game" onAction="#startGame" />
        </VBox>
    </left>

    <center>
        <StackPane>
            <GridPane id="center-container">
                <BoardPane id="chess-board" fx:id="chess_board_pane" onMouseClicked="#handleSpaceSelection" />
            </GridPane>

            <GridPane style="-fx-alignment: center;">
                <VBox id="promote_popup" fx:id="promote_popup">
                    <Label>Select a piece to promote to</Label>
                    <HBox>
                        <Button text="Rook" onAction="#promoteRook" />
                        <Button text="Knight" onAction="#promoteKnight" />
                        <Button text="Bishop" onAction="#promoteBishop" />
                        <Button text="Queen" onAction="#promoteQueen" />
                    </HBox>
                </VBox>
            </GridPane>
        </StackPane>
    </center>

    <right>
        <VBox id="right-container">
            <VBox id="move-history-container" VBox.vgrow="always">
                <Label id="move-history-title">Move History</Label>
                <ScrollPane fitToWidth="true" VBox.vgrow="always">
                    <GridPane id="move-history-content" VBox.vgrow="always">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="33" />
                            <ColumnConstraints percentWidth="33" />
                            <ColumnConstraints percentWidth="33" />
                        </columnConstraints>
    
                        <VBox fx:id="move_history_index" GridPane.columnIndex="0" VBox.vgrow="always" />
                        <VBox fx:id="white_move_history" GridPane.columnIndex="1" VBox.vgrow="always" />
                        <VBox fx:id="black_move_history" GridPane.columnIndex="2" VBox.vgrow="always" />
                    </GridPane>
                </ScrollPane>
            </VBox>
            <HBox id="right-buttons">
                <HBox>
                    <Button text="Undo" styleClass="orange-button" onAction="#undoMove" />
                    <Button text="Redo" styleClass="orange-button" onAction="#redoMove" />
                </HBox>
                <Button text="End game" styleClass="red-button" onAction="#endGame" />
            </HBox>
        </VBox>
    </right>
    
</BorderPane>
